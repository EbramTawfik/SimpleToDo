@{
    ViewData["Title"] = "Index";
}
<h2>To Do Lists</h2>
<p>
    <a asp-action="Create">Create New</a>
</p>

<script type="text/x-template" id="grid-template">
    <table class="table">
        <thead>
            <tr>
                <th v-for="key in columns"
                    v-on:click="sortBy(key)"
                    v-bind:class="{ active: sortKey == key }">
                    {{ key | capitalize }}
                    <span class="arrow" v-bind:class="sortOrders[key] > 0 ? 'asc' : 'dsc'">
                    </span>
                </th>
            </tr>
        </thead>
        <tbody>
            <tr v-for="entry in filteredData">
                <td v-for="key in columns">
                    {{ entry[key] }}
                </td>
            </tr>

            <tr v-if="filteredData.length <= 0">
                <td colspan="2">No Data Found.</td>
            </tr>
        </tbody>
    </table>
</script>

<template>
    <vuetable api-url="/api/ListsApi"
              :fields="columns">
    </vuetable>
</template>


<div id="app">
    <div class="ui container">
        <my-vuetable></my-vuetable>
    </div>
</div>

<div id="index-list-grid">
    <form id="search" class="form-inline">
        <div class="form-group col-xs-12" style="margin-bottom: 10px">
            <label> Search: </label>
            <input name="query" v-model="searchQuery" class="form-control" />
        </div>
    </form>
    <grid v-bind:data="gridData"
          v-bind:columns="gridColumns"
          v-bind:filter-key="searchQuery">
    </grid>
</div>


@section Scripts {
    <script src="~/js/app/list/index-vue.js"></script>
}


@*<table class="table">
        <thead>
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Name)
                </th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        <a asp-controller="Task" asp-action="Index" asp-route-listId="@item.ListId">@Html.DisplayFor(modelItem => item.Name)</a>
                    </td>
                    <td>
                        <a asp-action="Edit" asp-route-id="@item.ListId">Edit</a> |
                        <a asp-action="Details" asp-route-id="@item.ListId">Details</a> |
                        <a asp-action="Delete" asp-route-id="@item.ListId">Delete</a>
                    </td>
                </tr>
            }
        </tbody>
    </table>*@
